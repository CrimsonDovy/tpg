<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">



<html>

<head>

<title>Tree Prove Generator</title>



<style type="text/css">

body { padding-left:30px; padding-top:10px; font-family:Arial,sans-serif; }

td { font-family:Arial,sans-serif; }

.formtd { padding:10px; }

#flaDiv { position:absolute; }

#logDiv { position:absolute; }

.red { color:#990000; }



.knoten { position:absolute; left:0; top:0; white-space:pre; color:#660000; }

.linie { position:absolute; left:0; top:0; background-color:#660000; width:1px; height:1px; clip:rect(0px 1px 1px 0px); }

</style>



<script language="JavaScript" type="text/javascript" src="formulas.js"></script>

<script language="JavaScript" type="text/javascript" src="parser.js"></script>

<script language="JavaScript" type="text/javascript" src="tree.js"></script>

<script language="JavaScript" type="text/javascript" src="treeprover.js"></script>

<script language="JavaScript" type="text/javascript" src="treeprinter.js"></script>

<script language="JavaScript" type="text/javascript">



function treeLog(html) {

	if (document.layers) {

		document.logDiv.document.write(html);

		document.logDiv.document.close();

	}

	else if (document.getElementById) {

		document.getElementById("logDiv").innerHTML = html;

	}

}



function starte(fla) {

	fla = parser.parseTeX(fla);

	if (fla) makeTree(fla);

}



function updateVisibleCounterparts(node, depth) {

	if (depth <= 0) return;

	var fla = parser.getString(node.getFormula());

	if (!node.ticked) fla = "<b>"+fla+"</b>";

	if (node.useless) fla = "[ "+fla+" ]";

	if (node.closed) fla += "<br><b>x</b>";

	if (!node.visibleCounterpart) node.visibleCounterpart = node.parent.visibleCounterpart.appendChild(fla);

	for (var i=0; i<node.children.length; i++) updateVisibleCounterparts(node.children[i], depth-1);

}



DEPTH = 20;

function entwickle() {

	root.visibleCounterpart = new Knoten(parser.getString(root.getFormula()));

	updateVisibleCounterparts(root, DEPTH);

	reflowTree(root.visibleCounterpart);

/*	var node = root;

	window.status += "2";

	unticked = getUnticked(root);

	window.status += "3";

	unticked.develop();

	window.status += "4";

	updateVisibleCounterparts(root);

	window.status += "5";

*/

}

</script>



</head>



<body bgcolor="#f8f8f8">



<table border="0" cellspacing="0" cellpadding="0">

<tr><td colspan="2">

<img src="title.jpg" width=649 height=83 border=0 alt="TREE PROVE GENERATOR">

</td></tr>

<tr><td background="blue.gif" class="formtd">

<img src="transp.gif" width="280" height="1" alt=""><br>

Enter a first oder sentence in the text<br>

field below, then click "Find a prove".<br>

<br>

<img src="transp.gif" width="50" height="1" alt="">

<img src="butu.gif" width="21" height="21" alt="insert universal quantifier" title="insert universal quantifier" onmouseup="add2fla('\\forall')">

<img src="bute.gif" width="21" height="21" alt="insert existential quantifier" title="insert existential quantifier" onmouseup="add2fla('\\exists')">

<img src="bneg.gif" width="21" height="21" alt="insert negation symbol" title="insert negation symbol" onmouseup="add2fla('\\neg')">

<img src="band.gif" width="21" height="21" alt="insert AND" title="insert AND" onmouseup="add2fla('\\wedge')">

<img src="bor.gif" width="21" height="21" alt="insert OR" title="insert OR" onmouseup="add2fla('\\vee')">

<img src="bimpl.gif" width="21" height="21" alt="insert implication symbol" title="insert implication symbol" onmouseup="add2fla('\\to')">

<img src="bbiimpl.gif" width="21" height="21" alt="insert biimplication symbol" title="insert biimplication symbol" onmouseup="add2fla('\\leftrightarrow')">

<br>

<img src="formfeld.gif" name="formfeldgif" width=260 height=20 border=0 vspace="1" alt="">

<br>

<br>

<img src="transp.gif" width="75" height="1" alt="">

<img src="bfindprove.gif" name="provegif" width="99" height="21" border="0" alt="start/stop prove" onmouseup="starte(curFla)">

</td><td>

<img src="transp.gif" width="364" height="1" alt=""><br>

</td></tr>

<tr><td background="bluebot.gif">

&nbsp;

</td><td>

</td></tr>

<tr><td background="blue.gif" class="formtd">

<img src="transp.gif" name="resultgif" width="1" height="1">

<br>

<br>

<img src="transp.gif" width="82" height="1" alt="">

<img src="buildtree.gif" name="treegif" width="86" height="21" border="0" alt="start/stop tree" onmouseup="entwickle()">

</td></tr>

<tr><td background="bluebot.gif">

&nbsp;

</td><td>

</td></tr>

</table>



<div id="flaDiv"><img src="cursor.gif" width="7" height="13" alt=""></div>

<div id="logDiv"></div>



<script language="JavaScript" type="text/javascript">



// Code für's Pseudo-Formular:

function getAbs(el) {

	var absleft = el.offsetLeft;

	var abstop = el.offsetTop;

	while (el = el.offsetParent) {

		absleft += el.offsetLeft;

		abstop += el.offsetTop;

	}

	return { x : absleft, y : abstop };

}



if (document.layers) {

	document.flaDiv.left = document.formfeldgif.x+1;

	document.flaDiv.top = document.formfeldgif.y+1;

	document.logDiv.left = document.resultgif.x+1;

	document.logDiv.top = document.resultgif.y+1;

}

else {

	var koord = getAbs(document.formfeldgif);

	document.getElementById("flaDiv").style.left = koord.x+1;

	document.getElementById("flaDiv").style.top = korrd.y+1;

	koord = getAbs(document.resultgif);

	document.getElementById("logDiv").style.left = koord.x+1;

	document.getElementById("logDiv").style.top = korrd.y+1;

}



curFla = ""; // Formel-Text



function add2fla(str) {

	curFla+=str;

	printCurFla();

}



// Diese Funktion überträgt curFla ins Pseudo-Textfeld:

function printCurFla(hideCursor) {

	var str = curFla;

	str = str.replace(/\\forall[\{ ]?\}?/g, '<img src="forall.gif">');

	str = str.replace(/\\exists[\{ ]?\}?/g, '<img src="exists.gif">');

	str = str.replace(/(\\neg)[\{ ]?\}?/g, '<img src="neg.gif">');

	str = str.replace(/(\\vee|\\lor)[\{ ]?\}?/g, '<img src="vee.gif">');

	str = str.replace(/(\\wedge|\\land)[\{ ]?\}?/g, '<img src="wedge.gif">');

	str = str.replace(/(\\to|\\rightarrow)[\{ ]?\}?/g, '<img src="to.gif">');

	str = str.replace(/\\leftrightarrow[\{ ]?\}?/g, '<img src="leftrightarrow.gif">');

	str = str.replace(/(\\.*)/, '<span class="red">$1</span>');

	if (document.layers) {

		document.flaDiv.document.write(str+(hideCursor? '' : '<img src="cursor.gif">'));

		document.flaDiv.document.close();

	}

	else {

		document.getElementById("flaDiv").innerHTML = str+(hideCursor? '' : '<img src="cursor.gif">');

	}

}



if (document.captureEvents) document.captureEvents(Event.KEYPRESS);

document.onkeypress = keyin;

if (document.all) {

	document.onkeydown = function() {

		if (event.keyCode == 8) {

			removeLetter();

			return false;

		}

	}

}



function keyin(e) {

	var keyCode = e? e.which : event.keyCode;

	if (keyCode == 8) {

		removeLetter();

	}

	else if (keyCode > 0) {

		addLetter(keyCode);

	}

}



// löscht letzten sichtbaren Buchstaben:

function removeLetter() {

	var re = /(\\forall[\{ ]?\}?)$|(\\exists[\{ ]?\}?)$|(\\neg[\{ ]?\}?)$|((\\vee|\\lor)[\{ ]?\}?)$|((\\wedge|\\land)[\{ ]?\}?)$|((\\to|\\rightarrow)[\{ ]?\}?)$|(\\leftrightarrow[\{ ]?\}?)$/;

	var m = curFla.match(re);

	len = m? m[0].length : 1;

	curFla = curFla.substr(0,curFla.length-len);

	printCurFla();

}



// haengt einen Buchstaben an:

function addLetter(keyCode) {

	curFla += String.fromCharCode(keyCode);

	printCurFla();

}



</script>



<!--



Test: \neg(\forally\existsx(Fx\landGy)\to\existsx\forally(Fx\landGy))

<form>

Formel (LaTeX):<br>

<input type="text" name="formel" value="\neg(\forally\existsx(Fx\landGy)\to\existsx\forally(Fx\landGy))" size="60"> 

<input type="button" onclick="starte(this.form.formel.value)" value=" los ">

- <input type="checkbox" checked onclick="self.TREELOG=this.checked"> TREELOG 

- MAXDEPTH: <input type="text" size="10" name="maxdepth" value="100" onchange="self.MAXDEPTH=this.value">

<br>

<input type="button" onclick="this.form.formel.value+='\\forall'; this.form.formel.focus()" value="\forall">

<input type="button" onclick="this.form.formel.value+='\\exists'; this.form.formel.focus()" value="\exists">

<input type="button" onclick="this.form.formel.value+='\\neg'; this.form.formel.focus()" value="\neg">

<input type="button" onclick="this.form.formel.value+='\\to'; this.form.formel.focus()" value="\to">

<input type="button" onclick="this.form.formel.value+='\\land'; this.form.formel.focus()" value="\land">

<input type="button" onclick="this.form.formel.value+='\\lor'; this.form.formel.focus()" value="\lor">

<input type="button" onclick="this.form.formel.value+='\\leftrightarrow'; this.form.formel.focus()" value="\leftrightarrow">

<br><br>

<input type="button" onclick="entwickle()" value="entwickle">

Tiefe: <input type="text" size="10" name="treedepth" value="20" onchange="self.DEPTH=this.value">

</form>



<div id="logDiv">

</div>



-->

</body>

</html>

